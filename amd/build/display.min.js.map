{"version":3,"file":"display.min.js","sources":["../src/display.js"],"sourcesContent":["define(['jquery', 'core/config', 'core/notification'], function($, config, notification) {\n    return {\n        init: function() {\n            $(\".algebra_answer\").on('input paste keyup', null, null, function() {\n                // Convert answer id to valid javascript name.\n                var id = $(this).attr('id');\n                var display = id.replace(':', '_');\n                var params = {\n                    vars: $('#' + display + '_vars').html(),\n                    expr: $(this).val(),\n                    sesskey: config.sesskey,\n                };\n                $.post(config.wwwroot + '/question/type/algebra/ajax.php', params, null, 'json')\n                    .done(function(data) {\n                        // Replace TeX form in page.\n                        var displaydiv = $('#' + display + '_display');\n                        displaydiv.html(\"<span class=\\\"filter_mathjaxloader_equation\\\">\" + data + \"</span>\");\n                        // Notify the filters about the modified node.\n                        require(['core/event'], function(event) {\n                            event.notifyFilterContentUpdated(displaydiv);\n                        });\n                    })\n                    .fail(function(jqXHR, status, error) {\n                        notification.exception(error);\n                    });\n            });\n        }\n    };\n});"],"names":["define","$","config","notification","init","on","display","this","attr","replace","params","vars","html","expr","val","sesskey","post","wwwroot","done","data","displaydiv","require","event","notifyFilterContentUpdated","fail","jqXHR","status","error","exception"],"mappings":"AAAAA,+BAAO,CAAC,SAAU,cAAe,sBAAsB,SAASC,EAAGC,OAAQC,oBAChE,CACHC,KAAM,WACFH,EAAE,mBAAmBI,GAAG,oBAAqB,KAAM,MAAM,eAGjDC,QADKL,EAAEM,MAAMC,KAAK,MACLC,QAAQ,IAAK,KAC1BC,OAAS,CACTC,KAAMV,EAAE,IAAMK,QAAU,SAASM,OACjCC,KAAMZ,EAAEM,MAAMO,MACdC,QAASb,OAAOa,SAEpBd,EAAEe,KAAKd,OAAOe,QAAU,kCAAmCP,OAAQ,KAAM,QACpEQ,MAAK,SAASC,UAEPC,WAAanB,EAAE,IAAMK,QAAU,YACnCc,WAAWR,KAAK,+CAAmDO,KAAO,WAE1EE,QAAQ,CAAC,eAAe,SAASC,OAC7BA,MAAMC,2BAA2BH,kBAGxCI,MAAK,SAASC,MAAOC,OAAQC,OAC1BxB,aAAayB,UAAUD"}